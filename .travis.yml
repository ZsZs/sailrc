language: node_js
node_js:
- '15'
dist: trusty
sudo: required
branches:
  only:
  - release
  - develop
  - "/feature\\//"
addons:
  chrome: stable
  sonarcloud:
    organization: processpuzzle
    token:
      secure: "$SONAR_TOKEN"
    branches:
    - develop
    - release
    - "/feature\\//"
cache:
  directories:
  - "$HOME/.sonar/cache"
  - "./node_modules"
before_script:
- npm install -g --silent @angular/cli
script:
- npm install
- ng lint
- sonar-scanner
- ng build --base-href https://test.sailrc.de/
deploy:
  skip_cleanup: true
  provider: firebase
  project: sailrc-test
  on:
    branch: develop
  token:
    secure: VVUNLJ6jqIsJj2A7+QRxwmGuBAnpmlYW1w3t/naMTE6cQBVVFEieTgeBWxzDx1g0i/fTHat9rbL/wzxg8bp/PN5BJbSegwD82a4P7D28ApGlYTMrbNyMqzr52SIVgNBsZPvy7x1nUVxQnq5U0rmsL2uDFTsEu0bVuQ7YNl1XG8eZGPaZS/+Vnx2Ok1+zsxW+sUaGxF6ZVLt1RgYP5CYIzc4hEdZbv+yGHIBIsG8VI+AEHds24/mNXm28oPwec/HDPRd2RsHiZlY0X9CnR5ByvLHN2v3SyfmFF1B0Dig0eowCtVhAIEdYgqsGJ/CFuKRFO7S7PdMxv1FjUpUcXQqvC7wkWCBe2OKQ+xVUNm+oMbugC/Kl9XZ5Kvm5V3OQlW4aCthj32++bwq8V5S38JIuBbK6xqj2A5W0VZNHgUsJwMJd3xMnWOeRkWJM0iTg9cQAuTGDtwh/z0zK0NV0jxf+1++lowJybDilAJWhOOyEbxXANAY+LvIVExLy9aPH30dSQoJxoBlAi+wFvWr9ruqoDQqhXtxkZTr7soczAuk2ItyNvfVBuvhyD9+AbyGC8EFhVMcKf3P3x+nUa2rQv8chnVODiaGTdPh6PPDCVo7EkxiSyeJ8K4rlj3yogsoPw5Df6xNfdVXG7fMuiKj2b1RQk7Q/XO19/fLX5rqRBXOz3/0=
