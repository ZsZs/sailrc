<mat-sidenav-container class="race-select-container">
  <mat-sidenav #raceSelect mode="side">
    <sailrc-race-select (closeRaceSelect)="raceSelect.close()"></sailrc-race-select>
  </mat-sidenav>
  <mat-sidenav-content>
    <div *ngIf="{selectedRace: selectedRace$ | async, selectedLap: selectedLap$ | async} as executionData">
      <button *ngIf="!executionData.selectedRace" mat-raised-button color="primary" (click)="raceSelect.open()" class="race-select-button">Please select a race!</button>
      <sailrc-race-participant-tabs *ngIf="executionData.selectedRace"></sailrc-race-participant-tabs>
      <sailrc-race-lap-toolbar *ngIf="executionData.selectedRace" [lastUrlSegment]="lastUrlSegment$ | async"></sailrc-race-lap-toolbar>
    </div>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
